<% @locations_columns.each_with_index do |(location, columns), index| %>
  $('#dataSampleTabs').append('<%= j render partial: 'tab', locals: { index: index, location: location } %>')
  $('#dataSampleTabsContent').append('<%= j render partial: 'table', locals: { index: index, location: location, columns: columns } %>')
<% end %>

$('#dataSampleTabs a[data-toggle="tab"]').on('show.bs.tab', (e) => {
    let currentTabIndex = e.target.getAttribute('tab_index');
    let previousTabIndex = e.relatedTarget.getAttribute('tab_index');

    $(`.data-samples-footer${currentTabIndex}`).removeClass('d-none');
    $(`.data-samples-footer${previousTabIndex}`).addClass('d-none');
})
